<!DOCTYPE html>
<html>
  <head>
    <title>Konami Code</title>
  </head>
  <body>
    <h1>Konami Code</h1>
    <h1>You Typed</h1>
    <h1 id="input"></h1>
    <!--[38, 38, 40, 40, 37, 39, 37, 39, 66, 65, 13] // konami code-->
    <script
      src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
      crossorigin="anonymous"
    ></script>

    <script>
      "use strict";

      // Allow the user to enter the Konami Code: "↑ ↑ ↓ ↓ ← → ← → b a enter" (the return key)
      // Find the matching sequence using the code above for each key in the Konami Code.
      // Don't worry about capital a or b just check for lowercase.
      // After the correct Konami Code sequence is inputted, have the script alert the user: "You have added 30 lives! Other ideas:
      // Change the background screen.
      // Play a sound.
      // Be creative!
      // Happy Playing.

      // Steps
      /**
       * Keep track of what user is typing
       * Use the jquery keyup event which is called every time the user presses a key
       * Use a variable that stores 
       * Clear input whenever user types something invalid
       * To check if the input is invalid
       */
      const correctInput = "3838404037393739666513";

      var currentInput = "";
      // create an empty variable to keep track of user inputs

      // Calls event listener whenever user presses a key
      $(document).keyup(function (event) {
        // Since this is a keyboard event we can use the keyCode property of the event to check which key
        // the user typed
        // update user input every time a key is pressed
        currentInput += event.keyCode;
        console.log(currentInput);
        // Check if currentInput has any characters that are not in the correctInput
        // Check if every character in the currentInput is in the correctInput

        // Input is valid if the correctInput includes all of the currentInput
        // valid is a Boolean
        const valid = correctInput.includes(currentInput);

        // Input is correct if correctInput matches the currentInput
        const correct = correctInput === currentInput;
        if(correct) {
            alert("Congratulations! You entered the Konami Code!")
        }

        if (!valid) {
            alert("Invalid code. Start over");
            // set input back to empty so user can start typing the code again
            currentInput = "";
        }
        $("#input").html(currentInput);
      });
    </script>
  </body>
</html>
